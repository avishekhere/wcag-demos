<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WCAG 2.1 – 3.1.2: Proper Language Identification Demo</title>
<style>
  body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; background: #f7f7fb; color: #111;}
  .wrap { max-width: 900px; margin: 30px auto; padding: 20px; background: #fff; border-radius: 12px; box-shadow: 0 6px 16px rgba(0,0,0,0.08);}
  h1 { margin-top: 0; font-size: 24px; }
  h2 { font-size: 20px; margin-bottom: 8px; }
  p { margin-bottom: 12px; }
  .example { border: 1px solid #ddd; padding: 12px 16px; border-radius: 8px; margin-bottom: 18px; background: #f0f4ff; }
  .unsafe { background: #fff1f1; border-color: #b70f0f; }
  .safe { background: #e9f7ed; border-color: #0b7a2a; }
  .note { font-size: 13px; color: #666; margin-top: 6px; }
  .result { font-weight: 600; margin-left: 8px; }
  .result.pass { color: #0b7a2a; }
  .result.fail { color: #b70f0f; }
  footer { font-size: 12px; color: #666; margin-top: 20px; }
</style>
</head>
<body>
<div class="wrap">
  <h1>WCAG 2.1 – 3.1.2: Ensuring Proper Language Identification</h1>
  <p class="note">Demonstration: Correctly marking multilingual text using <code>lang</code> attributes for screen readers and assistive technologies.</p>

  <!-- Example 1: Government Website with Hindi -->
  <section class="example" aria-labelledby="example1-heading">
    <h2 id="example1-heading">Example 1 — Government Website (English + Hindi)</h2>
    
    <label for="lang-select1">Select display type:</label>
    <select id="lang-select1">
      <option value="unsafe">Unsafe: No lang attribute</option>
      <option value="safe">Safe: Correct lang attribute</option>
    </select>
    <span id="result1" class="result"></span>

    <div id="demo1" style="margin-top:10px; padding:10px; border-radius:6px;">
      <p>The goal of the Clean India Mission is to promote cleanliness. 
        <span id="hindi-text">स्वच्छ भारत अभियान का उद्देश्य स्वच्छता बढ़ावा देना है।</span>
      </p>
    </div>

    <p class="note">Problem: Without <code>lang="hi"</code>, screen readers mispronounce Hindi text. Fix: Add <code>lang="hi"</code> to switch pronunciation correctly.</p>
  </section>

  <!-- Example 2: PDF/Document Simulation -->
  <section class="example" aria-labelledby="example2-heading">
    <h2 id="example2-heading">Example 2 — Multilingual PDF Simulation (English + French)</h2>
    
    <label for="lang-select2">Select display type:</label>
    <select id="lang-select2">
      <option value="unsafe">Unsafe: No lang attribute</option>
      <option value="safe">Safe: Correct lang attribute</option>
    </select>
    <span id="result2" class="result"></span>

    <div id="demo2" style="margin-top:10px; padding:10px; border-radius:6px;">
      <p>Government Annual Report Summary:</p>
      <p>English Section: The budget for the upcoming year focuses on infrastructure and healthcare improvements.</p>
      <p id="french-text">French Section: <span>Le budget pour l'année prochaine se concentre sur l'infrastructure et l'amélioration des soins de santé.</span></p>
    </div>

    <p class="note">Problem: Without <code>lang="fr"</code>, screen readers mispronounce French text. Fix: Add <code>lang="fr"</code> to the French section.</p>
  </section>

  <footer>
    <p>Reminder: Use screen readers (NVDA, JAWS) or WAVE tool to verify correct pronunciation for multilingual content.</p>
  </footer>
</div>

<script>
// Example 1 Controls
const langSelect1 = document.getElementById('lang-select1');
const result1 = document.getElementById('result1');
const hindiText = document.getElementById('hindi-text');

langSelect1.addEventListener('change', () => {
  if(langSelect1.value === 'unsafe') {
    hindiText.removeAttribute('lang');
    result1.className = 'result fail';
    result1.textContent = '❌ Violates WCAG 3.1.2 – lang attribute missing';
    hindiText.style.background = '#fff1f1';
  } else {
    hindiText.setAttribute('lang','hi');
    result1.className = 'result pass';
    result1.textContent = '✅ PASS – Hindi text marked with lang="hi"';
    hindiText.style.background = '#e9f7ed';
  }
});

// Example 2 Controls
const langSelect2 = document.getElementById('lang-select2');
const result2 = document.getElementById('result2');
const frenchText = document.querySelector('#french-text span');

langSelect2.addEventListener('change', () => {
  if(langSelect2.value === 'unsafe') {
    frenchText.removeAttribute('lang');
    result2.className = 'result fail';
    result2.textContent = '❌ Violates WCAG 3.1.2 – lang attribute missing';
    frenchText.style.background = '#fff1f1';
  } else {
    frenchText.setAttribute('lang','fr');
    result2.className = 'result pass';
    result2.textContent = '✅ PASS – French text marked with lang="fr"';
    frenchText.style.background = '#e9f7ed';
  }
});
</script>
</body>
</html>
