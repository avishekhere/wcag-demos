<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WCAG 2.1 – 2.1.1 Keyboard Accessibility Demo</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f6f9;
    margin: 0;
    padding: 0;
  }

  .container {
    max-width: 1200px;
    margin: 30px auto;
    background: #ffffff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  }

  h1, h2 {
    margin-top: 0;
  }

  label, select {
    display: block;
    margin-bottom: 10px;
  }

  section {
    border-top: 1px solid #ddd;
    padding-top: 25px;
    margin-top: 25px;
  }

  button, input, select {
    padding: 6px;
    margin-top: 6px;
  }

  button:focus,
  input:focus,
  select:focus,
  a:focus {
    outline: 3px solid #005fcc;
  }

  .menu {
    list-style: none;
    padding: 0;
  }

  .menu > li {
    margin-bottom: 5px;
  }

  .submenu {
    display: none;
    margin-left: 20px;
  }

  .submenu.open {
    display: block;
  }

  .drag-area {
    padding: 20px;
    border: 2px dashed #999;
    margin-top: 10px;
  }

  .note {
    font-size: 13px;
    color: #555;
    margin-top: 10px;
  }
</style>
</head>

<body>
<div class="container">

<h1>WCAG 2.1 – 2.1.1 Keyboard Accessibility</h1>

<label for="mode">Select Demo Mode:</label>
<select id="mode">
  <option value="fail">Fail – Mouse-dependent functionality</option>
  <option value="pass">Pass – Fully keyboard accessible</option>
</select>

<p class="note">
Use only the keyboard (Tab, Shift+Tab, Enter, Space, Arrow keys, Esc)
to test all functionality.
</p>

<div id="demo"></div>

</div>

<script>
const demo = document.getElementById("demo");
const mode = document.getElementById("mode");

function render(value) {

  /* ===================== FAIL CASES ===================== */
  if (value === "fail") {
    demo.innerHTML = `

    <section>
      <h2>Fail 1: Custom Dropdown (Mouse Only)</h2>

      <div onclick="alert('Option selected')" style="border:1px solid #ccc; padding:10px; width:200px;">
        Click to select option
      </div>

      <p class="note">
        Failure: Dropdown cannot be opened or operated using the keyboard.
      </p>
    </section>

    <section>
      <h2>Fail 2: Hover-Only Navigation Menu</h2>

      <ul class="menu">
        <li>Services
          <ul class="submenu">
            <li><a href="#">Apply</a></li>
            <li><a href="#">Status</a></li>
          </ul>
        </li>
      </ul>

      <p class="note">
        Failure: Submenu appears only on mouse hover.
        Keyboard users cannot access links.
      </p>
    </section>

    <section>
      <h2>Fail 3: Drag-and-Drop Without Keyboard Alternative</h2>

      <div class="drag-area">
        Drag files here to upload
      </div>

      <p class="note">
        Failure: No keyboard-accessible upload option is provided.
      </p>
    </section>
    `;
  }

  /* ===================== PASS CASES ===================== */
  else {
    demo.innerHTML = `

    <section>
      <h2>Pass 1: Keyboard-Accessible Form Controls</h2>

      <label for="role">Select Job Role:</label>
      <select id="role">
        <option>Developer</option>
        <option>Analyst</option>
        <option>Tester</option>
      </select>

      <p class="note">
        Pass: Standard HTML select supports Tab and Arrow keys.
      </p>
    </section>

    <section>
      <h2>Pass 2: Keyboard-Accessible Navigation Menu</h2>

      <ul class="menu">
        <li>
          <button aria-expanded="false" onclick="toggleMenu(this)">
            Services
          </button>
          <ul class="submenu" id="submenu">
            <li><a href="#">Apply</a></li>
            <li><a href="#">Check Status</a></li>
          </ul>
        </li>
      </ul>

      <p class="note">
        Pass: Menu opens with Enter or Space and is announced using aria-expanded.
      </p>
    </section>

    <section>
      <h2>Pass 3: Keyboard-Accessible File Upload</h2>

      <label for="fileUpload">Upload Resume:</label>
      <input type="file" id="fileUpload">

      <p class="note">
        Pass: File selection works using keyboard (Tab + Enter).
      </p>
    </section>
    `;
  }
}

function toggleMenu(button) {
  const submenu = button.nextElementSibling;
  const expanded = button.getAttribute("aria-expanded") === "true";

  button.setAttribute("aria-expanded", !expanded);
  submenu.classList.toggle("open");
}

render(mode.value);
mode.addEventListener("change", () => render(mode.value));
</script>

</body>
</html>
