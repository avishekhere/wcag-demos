<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WCAG 2.1 – 1.4.3 Contrast Minimum Demo</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f6f9;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 1000px;
    margin: 30px auto;
    background: #ffffff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  }
  h1 { margin-top: 0; }
  label, select, button {
    display: block;
    margin-bottom: 10px;
  }
  section {
    border-top: 1px solid #ddd;
    padding-top: 20px;
    margin-top: 20px;
  }
  .note {
    font-size: 13px;
    color: #555;
  }

  /* Fail contrast styles */
  .low-contrast {
    color: #9e9e9e;
    background: #ffffff;
    padding: 10px;
  }
  .low-contrast-bg {
    color: #bdbdbd;
    background: #eeeeee;
    padding: 10px;
  }

  /* Pass contrast styles */
  .good-contrast {
    color: #1a1a1a;
    background: #ffffff;
    padding: 10px;
  }
  .good-contrast-bg {
    color: #ffffff;
    background: #1a237e;
    padding: 10px;
  }

  /* Large text */
  .large-text {
    font-size: 22px;
    font-weight: bold;
  }

  /* Logo (no contrast requirement) */
  .logo {
    font-size: 28px;
    font-weight: bold;
    color: #9c27b0;
  }

  /* High Contrast Mode */
  .high-contrast body,
  .high-contrast .container {
    background: #000 !important;
    color: #fff !important;
  }
  .high-contrast p,
  .high-contrast h2 {
    color: #fff !important;
  }
  .high-contrast .box {
    background: #000 !important;
    border: 2px solid #fff;
  }

  .box {
    padding: 15px;
    border-radius: 6px;
    margin-top: 10px;
  }
</style>
</head>

<body>
<div class="container" id="root">

<h1>WCAG 2.1 – 1.4.3: Contrast (Minimum)</h1>

<label for="mode">Select Demo Mode:</label>
<select id="mode">
  <option value="fail">❌ Fail – Insufficient contrast</option>
  <option value="pass">✅ Pass – Sufficient contrast</option>
</select>

<button onclick="toggleContrast()">Toggle High Contrast Mode</button>

<p class="note">
This demo illustrates minimum contrast requirements for normal text, large text, and exceptions.
</p>

<div id="demo"></div>

</div>

<script>
const demo = document.getElementById("demo");
const mode = document.getElementById("mode");
const root = document.getElementById("root");

function toggleContrast() {
  root.classList.toggle("high-contrast");
}

function render(m) {
  if (m === "fail") {
    demo.innerHTML = `
      <section>
        <h2>1. Normal Text (Fail)</h2>
        <p class="low-contrast">
          This paragraph has insufficient contrast (below 4.5:1).
        </p>
        <p class="note">❌ Difficult to read for users with low vision</p>
      </section>

      <section>
        <h2>2. Large Text (Fail)</h2>
        <p class="low-contrast-bg large-text">
          Large text with insufficient contrast
        </p>
        <p class="note">❌ Even large text must meet 3:1 contrast</p>
      </section>

      <section>
        <h2>3. Incidental Text (Allowed)</h2>
        <p class="low-contrast">
          Decorative background watermark
        </p>
        <p class="note">✔ Incidental / decorative text has no contrast requirement</p>
      </section>

      <section>
        <h2>4. Logotype (Allowed)</h2>
        <div class="logo">GovBrand</div>
        <p class="note">✔ Logo text has no contrast requirement</p>
      </section>
    `;
  } else {
    demo.innerHTML = `
      <section>
        <h2>1. Normal Text (Pass)</h2>
        <p class="good-contrast">
          This paragraph meets the minimum contrast ratio of 4.5:1.
        </p>
        <p class="note">✅ Readable for most users</p>
      </section>

      <section>
        <h2>2. Large Text (Pass)</h2>
        <p class="good-contrast-bg large-text">
          Large text meeting the 3:1 contrast requirement
        </p>
        <p class="note">✅ Meets large-text contrast threshold</p>
      </section>

      <section>
        <h2>3. High Contrast Option</h2>
        <div class="box">
          Users may enable high contrast mode using the button above.
        </div>
        <p class="note">✅ Optional control to enhance contrast</p>
      </section>

      <section>
        <h2>4. Logotype (Exception)</h2>
        <div class="logo">GovBrand</div>
        <p class="note">✔ Logos are exempt from contrast requirements</p>
      </section>
    `;
  }
}

render(mode.value);
mode.addEventListener("change", () => render(mode.value));
</script>

</body>
</html>
